%h1=@project.name
%p=@project.aasm_state
= link_to "Edit Project", edit_project_path(@project.id)
= link_to "Create Task", new_project_task_path(@project)

%table
	%thead
		%tr
			%th
			%th Description
			%th Owner
			%th Due Date
		%tbody
			- @project.tasks.each do |task|
				%tr
				%td= button_to "Mark as #{task.other_state}", update_state_project_task_path(id: task.id, project_id: @project.id), method: :put
				%td= task.description
				%td= link_to User.find(task.owner_id).first_name, user_path(task.owner_id)
				%td= task.due_at
				%td= link_to 'Edit', edit_project_task_path(id: task.id, project_id: @project.id)
%br/